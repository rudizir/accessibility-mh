!function(e){"use strict";const t=MHACC_WIDGET_CONFIG.languages||{};const a={config:e.MHACC_WIDGET_CONFIG||{},design:{},features:{},pro:!1,init(){this.detectPro(),this.loadDesign(),this.loadFeatures(),this.loadUIState(),function(){if(document.getElementById("mhacc-widget-styles"))return;const e=document.createElement("style");e.id="mhacc-widget-styles",e.setAttribute("data-layer","free"),e.textContent=`\n            :root {\n                --mhacc_primarycolor:${a.design.widget_design.fields.theme_primary_color.value};\n                --mhacc_fontcolor:${a.design.widget_design.fields.theme_primary_fontcolor.value};\n            }\n            @keyframes triggerPulse {\n                0% {\n                    box-shadow: 0 0 0 0 ${a.design.widget_design.fields.theme_primary_color.value}90;\n                }\n                70% {\n                    box-shadow: 0 0 0 14px ${a.design.widget_design.fields.theme_primary_color.value}00;\n                }\n                100% {\n                    box-shadow: 0 0 0 0 ${a.design.widget_design.fields.theme_primary_color.value}00);\n                }\n            }\n            #mhacc-panel {\n                border-radius: ${a.design.widget_design.fields.border_radius.value}px;\n            }\n            #mhacc-panel[data-size="large"]{\n                ${a.design.trigger_design.fields.position_x.value.position}: 0;\n                bottom:0;\n            }\n            .mhacc-panel-group {\n                border-radius: ${a.design.widget_design.fields.border_radius.value}px;\n            }\n            #mhacc-trigger[data-positionx="right"]{\n               right:${a.design.trigger_design.fields.position_x.value.value}${a.design.trigger_design.fields.position_x.value.unit};\n            }\n            #mhacc-trigger[data-positionx="left"]{\n                left:${a.design.trigger_design.fields.position_x.value.value}${a.design.trigger_design.fields.position_x.value.unit};\n            }\n            /* TRIGGER Y-POSITION */\n            #mhacc-trigger[data-positiony="top"]{\n                top:${a.design.trigger_design.fields.position_y.value.value}${a.design.trigger_design.fields.position_y.value.unit};\n            }\n            #mhacc-trigger[data-positiony="bottom"]{\n                bottom:${a.design.trigger_design.fields.position_y.value.value}${a.design.trigger_design.fields.position_y.value.unit};\n            }\n        `,document.head.appendChild(e)}(),this.ui.mount(),this.applyUIState(),this.featuresRenderer.render(this.features),a.applyTranslations(),this.dispatchReady(),this.applyFeatures(),this.applyFeatureEffects(),document.querySelectorAll(s).forEach((t=>{if(!a.isInsidePanel(t)){if(t.dataset.mhaccFontBase||(t.dataset.mhaccFontBase=parseFloat(e.getComputedStyle(t).fontSize)),!t.dataset.mhaccLineBase){const a=e.getComputedStyle(t).lineHeight;t.dataset.mhaccLineBase="normal"===a?1.2*parseFloat(e.getComputedStyle(t).fontSize):parseFloat(a)}if(!t.dataset.mhaccSpacingBase){const a=e.getComputedStyle(t).letterSpacing;t.dataset.mhaccSpacingBase="normal"!==a?parseFloat(a):0}}}))},detectPro(){this.pro=!!this.config.isPro},loadDesign(){this.design=this.config.settings?.design||{}},loadFeatures(){const e=this.config.settings?.features||{},t=a.storage.load();this.features=structuredClone(e),Object.entries(this.features).forEach((([e,a])=>{Object.entries(a.fields||{}).forEach((([e,a])=>{a.value=a.value??a.default??0,void 0!==t[e]&&(a.value=t[e])}))}))},dispatchReady(){document.dispatchEvent(new CustomEvent("mhacc:ready",{detail:this}))}},n=a.config.icons||{};a.debugState=function(){console.table(Object.values(a.features).flatMap((e=>Object.entries(e.fields).map((([e,t])=>({feature:e,value:t.value}))))))},a.storage={KEY:"mhacc_widget_user_settings",load(){try{return JSON.parse(localStorage.getItem(this.KEY))||{}}catch(e){return{}}},save(e){localStorage.setItem(this.KEY,JSON.stringify(e))},set(e,t){const a=this.load();a[e]=t,this.save(a)},get(e,t=null){return this.load()?.[e]??t},remove(e){const t=this.load();delete t[e],this.save(t)},clear(){localStorage.removeItem(this.KEY)}},document.addEventListener("click",(e=>{e.target.closest('[data-action="mhacc_storage_reset"]')&&(console.log("RESET CLICK"),a.storage.clear(),Object.values(a.features).forEach((e=>{e?.fields&&Object.entries(e.fields).forEach((([e,t])=>{"toggle"===t.type&&(t.value=t.default??!1),"slider"===t.type&&(t.value=t.jsdefault??100),"select"===t.type&&(t.value=t.jsdefault??null)}))})),a.featureEffects.font_size(100),a.featureEffects.line_height(100),a.featureEffects.letter_spacing(100),document.querySelectorAll(".mhacc-feature-btn, .mhacc-feature-btn-select, .select-data-wrap-item").forEach((e=>{e.classList.remove("is-active")})),document.querySelectorAll(".mhacc-feature-btn-slider").forEach((e=>{const t=e.querySelector(".mhacc-slider-value");t&&(t.textContent=100)})),document.body.className=document.body.className.split(" ").filter((e=>!e.startsWith("mhacc--"))).join(" "),a.removeFontSize(),a.removeLineHeight(),a.removeLetterSpacing(),a.applyFeatures(),a.applyFeatureEffects(),document.dispatchEvent(new CustomEvent("mhacc:reset")))})),a.i18n={lang:MHACC_WIDGET_CONFIG.lang||"en",get dict(){return MHACC_WIDGET_CONFIG.languages?.[this.lang]?.translations||MHACC_WIDGET_CONFIG.languages?.en?.translations||{}},t(e,t=""){return this.dict[e]??t??e},tGroup(e,t,a=""){return this.dict.groups?.[e]?.[t]??a??`${e}.${t}`}},a.ui={mount(){document.getElementById("mhacc-panel")||(document.body.appendChild(this.buildPanel()),this.bindPanelActions()),document.getElementById("mhacc-trigger")||document.body.appendChild(this.buildTrigger())},buildPanel(){const e=document.createElement("nav");e.id="mhacc-panel";const s=a.design?.widget_design?.fields||{},i=a.design?.trigger_design?.fields||{};e.dataset.style=s.widget_style?.value||"style_1",e.dataset.size=s.widget_size?.value||"medium",e.dataset.mode=s.theme_mode?.value||"light",e.dataset.positionx=i.position_x?.value?.position||"right";const o=document.createElement("div");o.classList.add("mhacc-langmenu-wrap"),t&&"object"==typeof t&&Object.entries(t).forEach((([e,t])=>{const n=document.createElement("button");n.type="button",n.classList.add("mhacc-langmenu-item"),n.dataset.lang=e,n.dataset.action="change_lang",n.textContent=t.title,e===a.uiState.lang&&n.classList.add("is-active"),o.appendChild(n)})),e.innerHTML=`\n                <div id="mhacc-panel-header">\n                    <div id="mhacc-panel-header-first">\n                        \n                            <strong id="mhacc-panel-title" data-i18n="title" >${a.i18n.t("title")}</strong>\n\n                        \n                            <button aria-label="Open Languages Menue" id="btn_mhacc_toogle_lang" data-action="toogle_lang">\n                                <span class="mhacc-lang-label"></span>\n                                <div id="lang_items"></div>\n                            </button>\n                \n                            \n                            <button aria-label="Open User Options" data-action="toogle_user_options">${n["icon-config"]}</button>\n                            <button aria-label="Widget close" data-action="close">${n["icon-close"]}</button>\n                        \n                    </div>\n                    <div id="user_options">\n\n                        <div id="set_panel_light_dark" class="user_option_wrap">\n                            <button type="button" role="button" aria-label="Change Widgetstyle to light" data-action="change_mode" data-value="light"> ${n["icon-sun"]} </button>\n                            <button type="button" role="button" aria-label="Change Widgetstyle to dark" data-action="change_mode" data-value="dark"> ${n["icon-moon"]} </button>\n                        </div>\n\n                        <div id="set_panel_left_right" class="user_option_wrap">\n                            <button type="button" role="button" aria-label="Change Widgetposition to left" data-action="change_widget_positionx" data-value="left"> ${n["icon-position-left"]} </button>\n                            <button type="button" role="button" aria-label="Change Widgetposition to right" data-action="change_widget_positionx" data-value="right"> ${n["icon-position-right"]} </button>\n                        </div>\n\n                        <div id="set_panel_size" class="user_option_wrap">\n                            <button type="button" role="button" aria-label="Change Widgetsize to small" data-action="change_widget_size" data-value="small"> ${n["icon-widget-small"]} </button>\n                            <button type="button" role="button" aria-label="Change Widgetsize to medium" data-action="change_widget_size" data-value="medium"> ${n["icon-widget-medium"]} </button>\n                            <button type="button" role="button" aria-label="Change Widgetsize to large" data-action="change_widget_size" data-value="large"> ${n["icon-widget-large"]} </button>\n                        </div>\n\n                        <div id="set_panel_style" class="user_option_wrap">\n                            <button type="button" role="button" aria-label="Change Widgetstyle to gridview" data-action="change_widget_style" data-value="style_1"> ${n["icon-style_1"]} </button>\n                            <button type="button" role="button" aria-label="Change Widgetstyle to listview" data-action="change_widget_style" data-value="style_2"> ${n["icon-style_2"]} </button>\n                        </div>\n\n                    </div>\n                </div>\n\n                <div id="mhacc-panel-features"></div>\n\n                <div id="mhacc-panel-footer">\n                    \n                    <div id="mhacc-misc-wrap">\n                        <button id="mhacc-misc" data-action="mhacc_storage_reset" type="button" role="button" aria-label="Widget Reset"><span id="mhacc-misc-text" data-i18n="misc">${a.i18n.t("misc")}</span></button>\n                    </div>\n\n                    <div id="mhacc-panel-footer-last">\n                        ${""!==a.design.general.fields.accessibility_statement_url.value?`<a id="mhacc_accessibility_link" href="${a.design.general.fields.accessibility_statement_url.value}" rel="noopener">\n                                <span id="mhacc-statement" data-i18n="statement">${a.i18n.t("statement")}</span>\n                            </a>`:""}\n                        ${1!==Number(a?.design?.widget_design?.fields?.remove_branding?.value)?'\n                                    <span id="powered_by_text">\n                                        <a href="https://www.mh-accessibility.de" target="_blank" rel="noopener">\n                                            MH-ACCESSIBILITY.DE\n                                        </a>\n                                    </span>\n                                ':""}\n                    </div>\n                </div>\n            `;const c=e.querySelector("#lang_items");return c&&o&&c.appendChild(o),e},buildTrigger(){const e=document.createElement("button");e.id="mhacc-trigger";a.design;const t=a.design?.trigger_design?.fields||{};e.setAttribute("aria-label","Open accessibility menu"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls","mhacc-panel"),e.title="Open accessibility menu",e.type="button",e.role="button",e.dataset.style=t.trigger_icon_style?.value||"style_2",e.dataset.size=t.trigger_icon_size?.value||"medium",e.dataset.positionx=t.position_x?.value?.position||"right",e.dataset.positiony=t.position_y?.value?.position||"bottom";const s=t.trigger_icon?.value||"icon-1",i=n[s]||n["icon-1"];e.innerHTML=`\n                <span class="mhacc-trigger-icon" aria-hidden="true">\n                    ${i}\n                </span>\n            `;const o=document.getElementById("mhacc-panel");function c(){if(!o)return;const t=o.classList.toggle("is-open");e.setAttribute("aria-expanded",t)}return e.addEventListener("click",c),e.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),c())})),e}},a.toggleFeature=function(e,t,n=null){const s=a.features?.[e]?.fields?.[t];if(!s||"toggle"!==s.type)return;const i=!s.value;s.value=i,a.storage.set(t,i),n&&(n.classList.toggle("is-active",s.value),n.setAttribute("aria-pressed",s.value?"true":"false")),document.dispatchEvent(new CustomEvent("mhacc:feature",{detail:{group:e,key:t,value:s.value}}))},a._toggleFeatureBase||(a._toggleFeatureBase=a.toggleFeature),a.changeSlider=function(e,t,n,s){const i=a.features?.[e]?.fields?.[t];if(!i||"slider"!==i.type)return;const o=i.jsmin??0,c=i.jsmax??200;let l=i.value+n;l=Math.min(c,Math.max(o,l)),i.value=l,a.storage.set(t,l),s&&(s.textContent=l),document.dispatchEvent(new CustomEvent("mhacc:feature",{detail:{group:e,key:t,value:l}}))},a.selectFeature=function(e,t,n,s){const i=a.features?.[e]?.fields?.[t];i&&"select"===i.type&&(i.value=n,a.storage.set(t,n),s.querySelectorAll(".select-data-wrap-item").forEach((e=>e.classList.remove("is-active"))),s.querySelector(`[data-select="${n}"]`)?.classList.add("is-active"),document.dispatchEvent(new CustomEvent("mhacc:feature",{detail:{group:e,key:t,value:n}})))},a.cycleSelectFeature=function(e,t){const n=a.features?.[e]?.fields?.[t];if(!n||"select"!==n.type)return;const s=n.jsoptions||[];if(!s.length)return;const i=s.indexOf(n.value);let o;o=-1===i?s[0]:i===s.length-1?null:s[i+1],n.value=o,a.storage.set(t,o);const c=document.querySelector(`.mhacc-feature-btn-select[data-group="${e}"]`);if(c&&(c.querySelectorAll(".select-data-wrap-item").forEach((e=>e.classList.remove("is-active"))),null!==o)){const e=c.querySelector(`.select-data-wrap-item[data-select="${o}"]`);e?.classList.add("is-active")}document.dispatchEvent(new CustomEvent("mhacc:feature",{detail:{group:e,key:t,value:o}}))},a.applyFeatures=function(){const e=document.body;e.className=e.className.split(" ").filter((e=>!e.startsWith("mhacc--"))).join(" "),Object.values(a.features).forEach((t=>{t?.fields&&Object.entries(t.fields).forEach((([t,a])=>{"toggle"===a.type&&!0===a.value&&e.classList.add(`mhacc--${t}`),"slider"===a.type&&e.classList.add(`mhacc--${t}-${a.value}`),"select"===a.type&&e.classList.add(`mhacc--${t}-${a.value}`)}))}))},a.uiState={mode:"light",size:"medium",style:"style_1",positionx:"right",lang:"en"},a.storage.KEY_FEATURES="mhacc_widget_user_settings",a.storage.KEY_UI="mhacc_widget_ui_settings",a.loadUIState=function(){const e=JSON.parse(localStorage.getItem(a.storage.KEY_UI)||"{}");a.uiState={mode:e.mode??a.design.widget_design.fields.theme_mode.value,size:e.size??a.design.widget_design.fields.widget_size.value,style:e.style??a.design.widget_design.fields.widget_style.value,positionx:e.positionx??a.design.trigger_design.fields.position_x.value.position,lang:e.lang??a.i18n.lang},a.i18n.lang=a.uiState.lang},a.applyUIState=function(){const e=document.getElementById("mhacc-panel"),t=document.getElementById("mhacc-trigger");if(!e)return;e.dataset.mode=a.uiState.mode,e.dataset.size=a.uiState.size,e.dataset.style=a.uiState.style,e.dataset.positionx=a.uiState.positionx,t&&(t.dataset.positionx=a.uiState.positionx);Object.entries({change_mode:"mode",change_widget_size:"size",change_widget_style:"style",change_widget_positionx:"positionx"}).forEach((([t,n])=>{e.querySelectorAll(`[data-action="${t}"]`).forEach((e=>{e.classList.toggle("is-active",e.dataset.value===a.uiState[n])}))}))},a.saveUIState=function(){localStorage.setItem(a.storage.KEY_UI,JSON.stringify(a.uiState))};const s="\n    p, span, a, li,\n    h1, h2, h3, h4, h5, h6,\n    label, small, strong, em,\n    blockquote, figcaption,\n    td, th,\n    button, input, textarea,\n    summary, legend\n    ",i=document.createElement("div");i.id="mhacc-reading-line",document.body.appendChild(i);const o=document.createElement("div");o.id="mhacc-reading-mask",document.body.appendChild(o),document.addEventListener("mousemove",(e=>{if(document.body.classList.contains("mhacc--reading-line")?(i.style.display="block",i.style.top=e.clientY+"px"):i.style.display="none",document.body.classList.contains("mhacc--reading-mask")){o.style.display="block";const t=160;o.style.top=e.clientY-t/2+"px"}else o.style.display="none"})),a.isInsidePanel=function(e){return e.closest("#mhacc-panel")},a.isIgnoredTextElement=function(e){return e.closest("svg, i, .icon")},a.removeFontSize=function(){document.querySelectorAll(s).forEach((e=>{a.isInsidePanel(e)||(e.dataset.mhaccFontBase?e.style.setProperty("font-size",e.dataset.mhaccFontBase+"px","important"):e.style.removeProperty("font-size"))}))},a.removeLineHeight=function(){document.querySelectorAll(s).forEach((e=>{a.isInsidePanel(e)||(e.dataset.mhaccLineBase?e.style.setProperty("line-height",e.dataset.mhaccLineBase+"px","important"):e.style.removeProperty("line-height"))}))},a.removeLetterSpacing=function(){document.querySelectorAll(s).forEach((e=>{a.isInsidePanel(e)||(e.dataset.mhaccSpacingBase?e.style.setProperty("letter-spacing",e.dataset.mhaccSpacingBase+"px","important"):e.style.removeProperty("letter-spacing"))}))},a.enableBigCursor=function(){const e=encodeURIComponent('\n        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">\n        <path fill="black" stroke="white" stroke-width="3"\n                d="M2.4 2.4 L43.2 14.4 L31.2 24 L45.6 38.4 L38.4 45.6 L24 31.2 L14.4 43.2 Z"/>\n        </svg>').replace(/'/g,"%27").replace(/"/g,"%22");document.body.style.cursor=`url("data:image/svg+xml,${e}") 0 0, default`},a.disableBigCursor=function(){document.body.style.cursor=""},a.featureEffects={reading_line(e){document.body.classList.toggle("mhacc--reading-line",e)},reading_mask(e){document.body.classList.toggle("mhacc--reading-mask",e)},stop_animations(e){document.body.classList.toggle("mhacc--stop-animations",e),document.querySelectorAll("svg").forEach((t=>{t&&(e&&"function"==typeof t.pauseAnimations&&t.pauseAnimations(),e||"function"!=typeof t.unpauseAnimations||t.unpauseAnimations())}))},big_cursor(e){document.body.classList.toggle("mhacc--big-cursor",e),e?a.enableBigCursor():a.disableBigCursor()},font_size(t){if(!t||100===t)return void a.removeFontSize();const n=t/100;document.querySelectorAll(s).forEach((t=>{if(a.isInsidePanel(t))return;if(a.isIgnoredTextElement(t))return;const s=e.getComputedStyle(t),i=parseFloat(s.fontSize);i&&!isNaN(i)&&(t.dataset.mhaccFontBase||(t.dataset.mhaccFontBase=i),t.style.setProperty("font-size",t.dataset.mhaccFontBase*n+"px","important"))}))},line_height(t){if(!t||100===t)return void a.removeLineHeight();const n=t/100;document.querySelectorAll(s).forEach((t=>{if(a.isInsidePanel(t))return;if(a.isIgnoredTextElement(t))return;const s=e.getComputedStyle(t);let i;if("normal"===s.lineHeight){const e=parseFloat(s.fontSize);if(!e)return;i=1.2*e}else i=parseFloat(s.lineHeight);i&&!isNaN(i)&&(t.dataset.mhaccLineBase||(t.dataset.mhaccLineBase=i),t.style.setProperty("line-height",t.dataset.mhaccLineBase*n+"px","important"))}))},letter_spacing(t){if(!t||100===t)return void a.removeLetterSpacing();const n=(t-100)/100;document.querySelectorAll(s).forEach((t=>{if(a.isInsidePanel(t))return;if(a.isIgnoredTextElement(t))return;const s=e.getComputedStyle(t),i=parseFloat(s.fontSize);if(!i||isNaN(i))return;const o="normal"!==s.letterSpacing?parseFloat(s.letterSpacing):0;t.dataset.mhaccSpacingBase||(t.dataset.mhaccSpacingBase=o);const c=.05*i*n;t.style.setProperty("letter-spacing",(parseFloat(t.dataset.mhaccSpacingBase)+c).toFixed(2)+"px","important")}))}},a.applyFeatureEffects=function(){Object.values(a.features).forEach((e=>{e&&e.fields&&Object.entries(e.fields).forEach((([e,t])=>{const n=a.featureEffects[e];n&&n(t.value)}))}))},a.ui.bindPanelActions=function(){const e=document.getElementById("mhacc-panel");if(!e)return;const t=e.querySelector("#user_options"),n=e.querySelector("#lang_items");e.addEventListener("click",(s=>{const i=s.target.closest("[data-action]");if(!i||!e.contains(i))return;const o=i.dataset.action,c=i.dataset.value,l=i.dataset.lang;switch(o){case"toogle_user_options":t?.classList.toggle("is-open"),n?.classList.remove("is-open");break;case"toogle_lang":n?.classList.toggle("is-open"),t?.classList.remove("is-open");break;case"close":e.classList.remove("is-open"),t?.classList.remove("is-open"),n?.classList.remove("is-open");const s=document.getElementById("mhacc-trigger");s&&s.setAttribute("aria-expanded","false");break;case"toggle_feature":{const e=i.dataset.feature,t=i.dataset.group;a.toggleFeature(t,e,i);break}case"slider_change":{const e=i.dataset.group,t=i.dataset.feature,n=Number(i.dataset.delta),s=i.closest(".mhacc-feature-btn-slider")?.querySelector(".mhacc-slider-value");a.changeSlider(e,t,n,s);break}case"select_option":{const e=i.dataset.group,t=i.dataset.feature,n=i.dataset.select,s=i.closest(".mhacc-feature-btn-select");a.selectFeature(e,t,n,s);break}case"cycle_select":{const e=i.dataset.group,t=i.dataset.feature;a.cycleSelectFeature(e,t);break}case"change_mode":a.uiState.mode=c,a.saveUIState(),a.applyUIState();break;case"change_widget_size":a.uiState.size=c,a.saveUIState(),a.applyUIState();break;case"change_widget_style":a.uiState.style=c,a.saveUIState(),a.applyUIState();break;case"change_widget_positionx":a.uiState.positionx=c,a.saveUIState(),a.applyUIState();break;case"change_lang":a.uiState.lang=l,a.i18n.lang=l,a.saveUIState(),a.applyTranslations(),e.querySelectorAll(".mhacc-langmenu-item").forEach((e=>e.classList.toggle("is-active",e.dataset.lang===l)))}})),document.addEventListener("click",(a=>{const s=document.getElementById("mhacc-trigger");e.contains(a.target)||a.target===s||s.contains(a.target)||(t?.classList.remove("is-open"),n?.classList.remove("is-open"),e.classList.contains("is-open")&&(e.classList.remove("is-open"),s.classList.remove("is-active"),s.setAttribute("aria-expanded","false"),document.dispatchEvent(new CustomEvent("mhacc:panelClosed"))))}))},a.applyTranslations=function(){const e=document.getElementById("mhacc-panel");if(!e)return;e.querySelectorAll("[data-i18n]").forEach((e=>{const t=e.dataset.i18n;e.textContent=a.i18n.t(t,e.textContent)})),e.querySelectorAll("[data-i18n-group]").forEach((e=>{const t=e.dataset.i18nGroup,n=e.dataset.i18nProp;e.textContent=a.i18n.tGroup(t,n,e.textContent)})),e.querySelectorAll("[data-feature]").forEach((e=>{const t=e.dataset.feature,n=a.i18n.t(t);n&&(e.setAttribute("aria-label",n),e.setAttribute("title",n))}));const t=e.querySelector(".mhacc-lang-label");t&&(t.textContent=MHACC_WIDGET_CONFIG.languages?.[a.i18n.lang]?.title||a.i18n.lang)},a.featuresRenderer={render(e){const t=document.getElementById("mhacc-panel-features");t&&e&&(t.innerHTML="",Object.values(e).forEach((e=>{if(!e||!e.fields)return;const n=document.createElement("section");n.className="mhacc-panel-group",n.id=`mhacc-group-${e.id}`;const s=document.createElement("div");if(s.className="mhacc-panel-group-header",e.title){const t=document.createElement("p");t.className="mhacc-group-title",t.setAttribute("data-i18n-group",e.id),t.setAttribute("data-i18n-prop","title"),t.textContent=a.i18n.tGroup(e.id,"title"),s.appendChild(t)}if(e.description){const t=document.createElement("p");t.className="mhacc-group-description",t.setAttribute("data-i18n-group",e.id),t.setAttribute("data-i18n-prop","description"),t.textContent=a.i18n.tGroup(e.id,"description"),s.appendChild(t)}const i=document.createElement("div");i.className="mhacc-panel-group-features",Object.entries(e.fields).forEach((([t,n])=>{if(n)if("toggle"===n.type){const s=document.createElement("button");s.type="button",s.className="mhacc-feature-btn",s.dataset.action="toggle_feature",s.dataset.feature=t,s.dataset.group=e.id,s.role="button",s.ariaLabel=n.label||t,s.title=n.label||t,n.value&&s.classList.add("is-active"),t.startsWith("profile_")&&s.classList.add("mhacc-profile-btn");const o=document.createElement("span");o.className="mhacc-btn-icon",o.innerHTML=n.icon;const c=document.createElement("span");c.className="mhacc-btn-label",c.dataset.i18n=t,c.textContent=a.i18n.t(t,n.label);const l=document.createElement("span");l.classList.add("fake-toggle"),s.appendChild(o),s.appendChild(c),s.appendChild(l),i.appendChild(s)}else if("slider"==n.type){const s=document.createElement("div");s.className="mhacc-feature-btn-slider";const o=document.createElement("span");o.classList.add("mhacc-btn-icon"),o.innerHTML=n.icon;const c=document.createElement("span");c.className="mhacc-btn-label",c.dataset.i18n=t,c.textContent=a.i18n.t(t,n.label);const l=document.createElement("span");l.classList.add("mhacc-slider-items");const r=document.createElement("span");r.classList.add("mhacc-slider-value");const d=document.createElement("button");d.type="button",d.setAttribute("role","button"),d.setAttribute("aria-label",n.label+" reduce"),d.classList.add("mhacc-slider-btn"),d.textContent="âˆ’",d.dataset.action="slider_change",d.dataset.feature=t,d.dataset.group=e.id,d.dataset.delta=-10;const u=document.createElement("button");u.type="button",u.setAttribute("role","button"),u.setAttribute("aria-label",n.label+" enlarge"),u.classList.add("mhacc-slider-btn"),u.textContent="+",u.dataset.action="slider_change",u.dataset.feature=t,u.dataset.group=e.id,u.dataset.delta=10,l.appendChild(d),l.appendChild(r),l.appendChild(u),s.appendChild(o),s.appendChild(c),s.appendChild(l);let g=a.storage.get(t,n.jsdefault??0);n.value=g,r.textContent=g,i.appendChild(s)}else if("select"==n.type){const s=document.createElement("button");s.type="button",s.className="mhacc-feature-btn-select",s.dataset.action="cycle_select",s.dataset.feature=t,s.dataset.group=e.id,s.ariaLabel=n.label||t,s.title=n.label||t,s.role="button";const o=document.createElement("span");o.classList.add("mhacc-btn-icon"),o.innerHTML=n.icon,s.appendChild(o);const c=document.createElement("span");c.className="mhacc-btn-label",c.dataset.i18n=t,c.textContent=a.i18n.t(t,n.label),s.appendChild(c);const l=document.createElement("span");l.classList.add("select-data-wrap"),Array.isArray(n.jsoptions)&&n.jsoptions.forEach((a=>{const s=document.createElement("span");a===n.value&&s.classList.add("is-active"),s.classList.add("select-data-wrap-item"),s.dataset.select=a,s.dataset.action="select_option",s.dataset.feature=t,s.dataset.group=e.id,s.dataset.select=a,l.appendChild(s)})),s.appendChild(l),i.appendChild(s)}})),n.appendChild(s),n.appendChild(i),t.appendChild(n)})))}},e.MHACC=a,document.addEventListener("DOMContentLoaded",(()=>{a.init()})),document.addEventListener("mhacc:feature",(()=>{a.applyFeatures(),a.applyFeatureEffects()}))}(window);